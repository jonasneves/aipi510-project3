# ML Pipeline Configuration

# Data Configuration
data:
  raw_dir: "data/raw"
  processed_dir: "data/processed"
  target_column: "annual_salary"
  test_size: 0.15  # 15% for test set (hybrid approach)
  validation_size: 0.15  # 15% for validation set (from remaining 85%)
  random_state: 42
  salary_range:
    min: 50000
    max: 1000000

# Data Sources
sources:
  h1b:
    years: [2023, 2024]
  adzuna:
    results_per_page: 50
    max_pages: 20
  linkedin:
    use_consolidated: true
    days_back: 7

# Model Configuration
model:
  type: "xgboost"
  dir: "models"
  params:
    objective: "reg:squarederror"
    n_estimators: 200
    max_depth: 6
    learning_rate: 0.1
    subsample: 0.8
    colsample_bytree: 0.8
    min_child_weight: 3
    reg_alpha: 0.1
    reg_lambda: 1.0
    random_state: 42

# Training Configuration
training:
  cv_folds: 5
  early_stopping_rounds: 20
  scale_features: false
  # Data recency configuration
  lookback_years: 2  # Only use data from last N years (e.g., 2 = 2024-2025 when current year is 2025)
  split_strategy: "random"  # "random" or "temporal"
  stratify_by_year: true  # Keep year distribution balanced in train/val/test

# Feature Engineering
features:
  skill_categories:
    - deep_learning
    - nlp
    - computer_vision
    - mlops
    - cloud_ml
    - big_data
    - traditional_ml
    - data_engineering
  location_col_multipliers:
    CA: 1.35
    NY: 1.30
    WA: 1.20
    MA: 1.25
    TX: 1.00

# API Configuration
api:
  host: "0.0.0.0"
  port: 8000
  model_path: "models/salary_model_latest.pkl"

# MLFlow Configuration
mlflow:
  experiment_name: "salary_prediction"
  tracking_uri: "file:./mlruns"
  model_name: "salary_predictor"

# S3 Configuration
s3:
  bucket: "ai-salary-predictor"
  region: "us-east-1"
  paths:
    raw: "data/raw"
    processed: "data/processed"
    models: "models"

# Deployment Configuration
deployment:
  platform: "docker"
  image_name: "ai-salary-predictor"
  image_tag: "latest"
